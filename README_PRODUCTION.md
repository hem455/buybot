# Chirp Trading System - 本番環境

GMOコイン自動売買システムの本番環境用セットアップです。

## ⚠️ 重要な注意事項

**これは本番環境です！実際のお金で取引が実行されます。**

- 実際のGMOコイン APIに接続します
- 実際の資金で売買注文が実行されます
- 取引には手数料がかかります
- 損失が発生する可能性があります

## 🚀 起動方法

### 1. 本番環境の起動

```bash
# 本番環境UIを起動
launch_production.bat
```

または

```bash
# 元のランチャーを使用（本番環境に更新済み）
launch_chirp_ui.bat
```

### 2. ブラウザでアクセス

自動的にブラウザが開きます。開かない場合は以下にアクセス：

```
http://localhost:8502
```

## 📊 機能

### ダッシュボード
- **総資産**: GMOコインの実際の残高を表示
- **総損益**: 取引履歴から計算した実際の損益
- **勝率**: 実際の取引結果に基づく勝率
- **マーケット情報**: リアルタイムの価格情報

### ポジション管理
- 現在保有している実際のポジション一覧
- 評価損益のリアルタイム表示
- ポジションの詳細情報

### 取引履歴
- 実際の取引履歴を表示
- 手数料を含む詳細情報
- 取引統計の表示

### 設定
- 自動更新間隔の設定
- API接続状態の確認
- キャッシュ管理

## 🔧 設定ファイル

### .env ファイル
```env
GMO_API_KEY=your_actual_api_key
GMO_API_SECRET=your_actual_api_secret
ENV=production
DEBUG=False
```

### config.yaml
取引設定は `config/config.yaml` で管理されています。

## ⚠️ セキュリティ

1. **APIキーの管理**
   - .envファイルは絶対にGitにコミットしない
   - APIキーは定期的に更新する
   - 不要な権限は付与しない

2. **アクセス制限**
   - ローカルホストからのみアクセス可能
   - 外部からのアクセスは遮断

3. **ログ管理**
   - 取引ログは `logs/` に保存
   - 個人情報を含むログは適切に管理

## 🛠️ トラブルシューティング

### API接続エラー
1. .envファイルのAPIキーを確認
2. インターネット接続を確認
3. GMOコインのAPIステータスを確認

### データが表示されない
1. ブラウザのキャッシュをクリア
2. 「設定」タブから「キャッシュクリア」を実行
3. システムを再起動

### ポートエラー
1. 他のアプリがポート8502を使用していないか確認
2. launch_production.batが自動的にポートを解放します

## 📝 更新履歴

- 2024-06-12: 本番環境にリファクタリング完了
  - テストデータを削除
  - 実際のAPI接続を実装
  - リアルタイムデータ表示を追加

## ⚡ パフォーマンス

- API呼び出しは最小限に抑制
- デフォルトの更新間隔: 30秒
- 必要に応じて手動更新も可能

## 🔒 バックアップ

重要なファイルは定期的にバックアップしてください：
- `.env` ファイル
- `logs/` ディレクトリ
- `config/` ディレクトリ

## 📞 サポート

問題が発生した場合：
1. ログファイルを確認
2. エラーメッセージをスクリーンショット
3. 設定ファイルを確認（APIキーは除く）

---

**最終更新**: 2024-06-12  
**バージョン**: 1.0.0 (Production)
