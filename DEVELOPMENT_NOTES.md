# 📝 開発メモ・今後の拡張計画

## 現在の状況（2025年6月）

### ✅ 実装済み機能
- 基本的な自動売買システム
- バックテスト機能
- 3つの基本戦略
- Streamlit UI
- 複数通貨対応（BTC, ETH等）
- データダウンロード機能

### ⚠️ 修正済みの問題
- データダウンロードスクリプトの実装
- Buy & Hold戦略の実装
- バックテスト結果の比較機能

## 🎯 今後の拡張計画

### 1. 戦略の追加（優先度: 高）
- [ ] グリッドトレーディング戦略
- [ ] アービトラージ戦略
- [ ] 機械学習ベース戦略（LSTM, XGBoost）
- [ ] センチメント分析戦略
- [ ] マルチタイムフレーム戦略

### 2. リスク管理の強化（優先度: 高）
- [ ] ポートフォリオ最適化
- [ ] 動的ポジションサイジング
- [ ] トレイリングストップ機能
- [ ] 相関分析によるリスク分散

### 3. データ分析機能（優先度: 中）
- [ ] マーケットプロファイル分析
- [ ] ボリューム分析
- [ ] オーダーフロー分析
- [ ] 板情報の可視化

### 4. システム改善（優先度: 中）
- [ ] パフォーマンス最適化
- [ ] データベース統合（PostgreSQL/TimescaleDB）
- [ ] Redis キャッシュ
- [ ] マイクロサービス化

### 5. UI/UX改善（優先度: 低）
- [ ] ダークモード
- [ ] モバイル対応
- [ ] リアルタイムチャート（TradingView統合）
- [ ] 戦略バックテストの並列実行

### 6. 通知・モニタリング（優先度: 中）
- [ ] LINE通知
- [ ] Discord/Telegram Bot
- [ ] Prometheus + Grafana統合
- [ ] アラート条件のカスタマイズ

## 💡 実装のヒント

### 新しい戦略を追加する場合
1. `backend/strategy/template_strategy.py` をコピー
2. 戦略ロジックを実装
3. `config/config.yaml` に追加
4. 最低90日分のデータでバックテスト
5. ペーパートレードで1週間テスト

### データソースを追加する場合
1. `backend/data_fetcher/` に新しいフェッチャーを作成
2. APIレート制限を必ず実装
3. データ検証ロジックを追加
4. ストレージ形式を統一（Parquet推奨）

### パフォーマンスチューニング
- NumbaやCythonでボトルネック部分を最適化
- ベクトル化演算を使用（pandas/numpy）
- 非同期処理を活用（asyncio）
- キャッシュを適切に使用

## 🐛 既知の問題・改善点

### データ関連
- GMOコインAPIの制限により、リアルタイムでの高頻度取引は難しい
- 過去データの取得が1日単位のため、大量のAPIコールが必要

### 戦略関連
- 現在の戦略はシンプルすぎて実戦では勝てない可能性
- スリッページの考慮が不十分
- 約定拒否のハンドリングが必要

### システム関連
- エラーリカバリーが不十分
- メモリ使用量の最適化が必要
- ログファイルのローテーション設定

## 📚 参考リソース

### 戦略アイデア
- QuantConnect Strategy Library
- Backtrader Community
- TradingView Pine Script

### 技術スタック
- FastAPI（高速API）
- Dash/Plotly（高度な可視化）
- Ray（並列処理）
- MLflow（機械学習管理）

### データソース
- CryptoCompare API
- Binance API（海外取引所データ）
- Alternative.me（Fear & Greed Index）

## 🤝 コントリビューション歓迎

以下の機能追加を歓迎します：
- 新しい戦略の実装
- UIの改善
- ドキュメントの充実
- テストカバレッジの向上
- バグ修正

プルリクエストを送る前に：
1. コーディング規約に従う（PEP8）
2. テストを追加する
3. ドキュメントを更新する
